webpackJsonp([44],{176:function(e,t){e.exports=function(e,t,n,r,s){var a,o=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(a=e,o=e.default);var i="function"==typeof o?o.options:o;t&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns),r&&(i._scopeId=r);var c;if(s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},i._ssrRegister=c):n&&(c=n),c){var u=i.functional,d=u?i.render:i.beforeCreate;u?i.render=function(e,t){return c.call(t),d(e,t)}:i.beforeCreate=d?[].concat(d,c):[c]}return{esModule:a,exports:o,options:i}}},177:function(e,t,n){var r=n(176)(n(184),null,null,null,null);e.exports=r.exports},178:function(e,t,n){var r=n(176)(n(185),null,null,null,null);e.exports=r.exports},179:function(e,t,n){var r=n(176)(n(182),null,null,null,null);e.exports=r.exports},180:function(e,t,n){var r=n(176)(n(183),null,null,null,null);e.exports=r.exports},182:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return n.e(93).then(function(){var t=[n(200)];e.apply(null,t)}.bind(this)).catch(n.oe)};t.default={Content:r}},183:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return n.e(10).then(function(){var t=[n(197)];e.apply(null,t)}.bind(this)).catch(n.oe)},s=function(e){return n.e(78).then(function(){var t=[n(201)];e.apply(null,t)}.bind(this)).catch(n.oe)},a=function(e){return n.e(6).then(function(){var t=[n(198)];e.apply(null,t)}.bind(this)).catch(n.oe)},o=function(e){return n.e(8).then(function(){var t=[n(199)];e.apply(null,t)}.bind(this)).catch(n.oe)},l=function(e){return n.e(84).then(function(){var t=[n(202)];e.apply(null,t)}.bind(this)).catch(n.oe)};t.default={Header:r,SecondHeader:s,HeaderLink:a,HeaderTitle:o,SimpleHeader:l,Title:o}},184:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return n.e(91).then(function(){var t=[n(203)];e.apply(null,t)}.bind(this)).catch(n.oe)};t.default={Icon:r}},185:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return n.e(77).then(function(){var t=[n(205)];e.apply(null,t)}.bind(this)).catch(n.oe)},s=function(e){return n.e(95).then(function(){var t=[n(206)];e.apply(null,t)}.bind(this)).catch(n.oe)},a=function(e){return n.e(70).then(function(){var t=[n(204)];e.apply(null,t)}.bind(this)).catch(n.oe)};t.default={Button:r,CDButton:s,ButtonGroup:a}},186:function(e,t,n){var r=n(176)(n(188),null,null,null,null);e.exports=r.exports},187:function(e,t,n){var r=n(176)(n(189),null,null,null,null);e.exports=r.exports},188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return n.e(79).then(function(){var t=[n(207)];e.apply(null,t)}.bind(this)).catch(n.oe)};t.default={Posts:r}},189:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return n.e(76).then(function(){var t=[n(210)];e.apply(null,t)}.bind(this)).catch(n.oe)},s=function(e){return n.e(89).then(function(){var t=[n(209)];e.apply(null,t)}.bind(this)).catch(n.oe)},a=function(e){return n.e(90).then(function(){var t=[n(208)];e.apply(null,t)}.bind(this)).catch(n.oe)};t.default={List:r,ListItem:s,ListInput:a}},190:function(e,t,n){var r=n(176)(n(191),null,null,null,null);e.exports=r.exports},191:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return n.e(80).then(function(){var t=[n(213)];e.apply(null,t)}.bind(this)).catch(n.oe)},s=function(e){return n.e(81).then(function(){var t=[n(215)];e.apply(null,t)}.bind(this)).catch(n.oe)},a=function(e){return n.e(96).then(function(){var t=[n(214)];e.apply(null,t)}.bind(this)).catch(n.oe)};t.default={Footer:r,SecondFooter:s,FooterItem:a,Item:a}},192:function(e,t,n){var r=n(176)(n(193),null,null,null,null);e.exports=r.exports},193:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return n.e(7).then(function(){var t=[n(211)];e.apply(null,t)}.bind(this)).catch(n.oe)},s=function(e){return n.e(9).then(function(){var t=[n(212)];e.apply(null,t)}.bind(this)).catch(n.oe)},a=function(e){return n.e(94).then(function(){var t=[n(216)];e.apply(null,t)}.bind(this)).catch(n.oe)};t.default={Column:r,ColumnItem:s,ColumnSort:a}},420:function(e,t,n){var r=n(176)(n(753),n(478),null,null,null);e.exports=r.exports},478:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page"},[n("page-header",{slot:"header"},[n("header-title",[e._v(e._s(e.$t("admin.salelistsingle.title"))),n("font",{staticClass:"font07"},[e._v("（编号："+e._s(e.salerecord.id)+"）")])],1),e._v(" "),n("header-link",{attrs:{isback:!0,left:!0}},[n("icon",{staticClass:"font08",attrs:{icon:"arrowleft"}}),e._v(e._s(e.$t("default.back")))],1)],1),e._v(" "),n("page-content",{attrs:{ispadding:!0}},[n("list",{attrs:{linktitle:!0}},[n("column",{slot:"title"},[n("column-item",{attrs:{num:"30"}},[e._v("\n              品名\n            ")]),e._v(" "),n("column-item",{attrs:{num:"10"}},[e._v("\n              数量\n            ")]),e._v(" "),1==e.salerecord.nType?n("column-item",{attrs:{num:"15"}},[e._v("\n              售价\n            ")]):e._e(),e._v(" "),1==e.salerecord.nType?n("column-item",{attrs:{num:"15"}},[e._v("\n              实收\n            ")]):e._e(),e._v(" "),1==e.salerecord.nType?n("column-item",{attrs:{num:"15"}},[e._v("\n              进价\n            ")]):e._e(),e._v(" "),1==e.salerecord.nType||3==e.salerecord.nType||7==e.salerecord.nType?n("column-item",{attrs:{num:"15"}},[e._v("\n              盈利\n            ")]):e._e()],1),e._v(" "),e._l(e.ranklist,function(t,r){return n("list-item",{key:r},[n("div",{staticClass:"item-content"},[n("column",[n("column-item",{attrs:{num:"30"}},[n("icon",{attrs:{icon:3==e.salerecord.nType||7==e.salerecord.nType?e.$t("default.saleicons")[e.salerecord.nType]:e.$t("default.producttypeicons")[t.nType-1]}}),e._v(e._s(t.sName)+"\n                  ")],1),e._v(" "),n("column-item",{attrs:{num:"10"}},[n("div",{staticClass:"badge"},[e._v(e._s(e._f("decimal")(t.dSaleNumber))+e._s(t.sUnit))])]),e._v(" "),1==e.salerecord.nType?n("column-item",{attrs:{num:"15"}},[n("span",{staticClass:"font05"},[e._v("￥")]),n("font",{staticClass:"font07"},[e._v(e._s(e._f("decimal")(t.dTotleSalePrice)))])],1):e._e(),e._v(" "),1==e.salerecord.nType?n("column-item",{attrs:{num:"15"}},[n("span",{staticClass:"font05"},[e._v("￥")]),n("font",{staticClass:"font07"},[e._v(e._s(e._f("decimal")(t.dPaidMoney)))])],1):e._e(),e._v(" "),1==e.salerecord.nType?n("column-item",{attrs:{num:"15"}},[n("span",{staticClass:"font05"},[e._v("￥")]),n("font",{staticClass:"font07"},[e._v(e._s(e._f("decimal")(t.dTotleBuyPrice)))])],1):e._e(),e._v(" "),1==e.salerecord.nType||3==e.salerecord.nType||7==e.salerecord.nType?n("column-item",{attrs:{num:"15"}},[n("span",{staticClass:"font05"},[e._v("￥")]),n("font",{staticClass:"font07"},[e._v(e._s(e._f("decimal")(t.dProfitMoney)))])],1):e._e()],1)],1)])}),e._v(" "),n("column",{staticClass:"color-warning",slot:"append"},[n("column-item",{attrs:{num:"30"}},[e._v("\n                总计\n              ")]),e._v(" "),n("column-item",{attrs:{num:"10"}},[n("div",{staticClass:"badge color-white bg-warning"},[e._v(e._s(e._f("decimal")(e.salerecord.dTotleNumber)))])]),e._v(" "),1==e.salerecord.nType?n("column-item",{attrs:{num:"15"}},[e._v("\n                "+e._s(e._f("decimal")(e.salerecord.dTotleSalePrice))+"\n              ")]):e._e(),e._v(" "),1==e.salerecord.nType?n("column-item",{attrs:{num:"15"}},[e._v("\n                "+e._s(e._f("decimal")(e.salerecord.dPaidMoney))+"\n              ")]):e._e(),e._v(" "),1==e.salerecord.nType?n("column-item",{attrs:{num:"15"}},[e._v("\n                "+e._s(e._f("decimal")(e.salerecord.dTotleBuyPrice))+"\n              ")]):e._e(),e._v(" "),1==e.salerecord.nType||3==e.salerecord.nType||7==e.salerecord.nType?n("column-item",{attrs:{num:"15"}},[e._v("\n                "+e._s(e._f("decimal")(e.salerecord.dProfitMoney))+"\n              ")]):e._e()],1)],2),e._v(" "),n("br"),e._v(" "),n("list",[n("column",{slot:"title"},[n("span",{staticClass:"pull-left"},[e._v("其它详情\n            "),e.salerecord.nType?n("span",[n("icon",{attrs:{icon:e.$t("default.saleicons")[e.salerecord.nType]}}),e._v(e._s(e.$t("default.saletypes")[e.salerecord.nType-1])+"\n            ")],1):e._e()]),e._v(" "),n("span",{staticClass:"pull-right"},[e._v("员工："+e._s(e.saleuser.sName?e.saleuser.sName:e.saleuser.nPhone?e.saleuser.nPhone:e.saleuser.sEmail)+" ("+e._s(e._f("time")(e.salerecord.nAddTime,"MM-DD HH:mm:ss"))+")")])]),e._v(" "),n("list-item",[n("div",{staticClass:"item-content"},[n("column",[n("column-item",{directives:[{name:"show",rawName:"v-show",value:0!=e.salerecord.dPayMoney,expression:"salerecord.dPayMoney!=0"}],attrs:{num:"33"}},[e._v("\n                  现金：￥"+e._s(e._f("decimal")(e.salerecord.dPayMoney))+"\n                ")]),e._v(" "),n("column-item",{directives:[{name:"show",rawName:"v-show",value:0!=e.salerecord.dPayBank,expression:"salerecord.dPayBank!=0"}],attrs:{num:"33"}},[e._v("\n                  银行卡：￥"+e._s(e._f("decimal")(e.salerecord.dPayBank))+"\n                ")]),e._v(" "),n("column-item",{directives:[{name:"show",rawName:"v-show",value:0!=e.salerecord.dPayThird,expression:"salerecord.dPayThird!=0"}],attrs:{num:"33"}},[e._v("\n                  第三方：￥"+e._s(e._f("decimal")(e.salerecord.dPayThird))+"\n                ")]),e._v(" "),e.member.sName?n("column-item",{attrs:{num:"33"}},[e._v("\n                  会员姓名："+e._s(e.member.sName)+"\n                ")]):e._e(),e._v(" "),e.member.nPhone?n("column-item",{attrs:{num:"33"}},[e._v("\n                  会员手机："+e._s(e.member.nPhone)+"\n                ")]):e._e(),e._v(" "),e.member.id?n("column-item",{attrs:{num:"33"}},[e._v("\n                  会员卡号："+e._s(e.member.sSerial)),n("font",{directives:[{name:"show",rawName:"v-show",value:e.member.sTag&&e.member.sTag.length>0,expression:"member.sTag && member.sTag.length>0"}],staticClass:"font07"},[e._v("("+e._s(e.member.sTag)+")")])],1):e._e(),e._v(" "),n("column-item",{directives:[{name:"show",rawName:"v-show",value:e.salerecord.oMemberID&&"0"!=e.salerecord.oMemberID&&0!=e.salerecord.dPayMember,expression:"salerecord.oMemberID && salerecord.oMemberID!='0' && salerecord.dPayMember!=0"}],attrs:{num:"33"}},[e._v("\n                  会员支付：￥"+e._s(e._f("decimal")(e.salerecord.dPayMember))+"\n                ")]),e._v(" "),n("column-item",{directives:[{name:"show",rawName:"v-show",value:0!=e.salerecord.dPaidTotleMoney,expression:"salerecord.dPaidTotleMoney!=0"}],attrs:{num:"33"}},[e._v("\n                  总收：￥"+e._s(e._f("decimal")(e.salerecord.dPaidTotleMoney))+"\n                ")]),e._v(" "),n("column-item",{directives:[{name:"show",rawName:"v-show",value:0!=e.salerecord.dPaidMoney,expression:"salerecord.dPaidMoney!=0"}],attrs:{num:"33"}},[e._v("\n                  实收：￥"+e._s(e._f("decimal")(e.salerecord.dPaidMoney))+"\n                ")]),e._v(" "),n("column-item",{directives:[{name:"show",rawName:"v-show",value:0!=e.salerecord.dChange,expression:"salerecord.dChange!=0"}],attrs:{num:"33"}},[e._v("\n                  找零：￥"+e._s(e._f("decimal")(e.salerecord.dChange))+"\n                ")]),e._v(" "),n("column-item",{directives:[{name:"show",rawName:"v-show",value:e.salerecord.sTag&&e.salerecord.sTag.length>0,expression:"salerecord.sTag && salerecord.sTag.length>0"}],attrs:{num:"33"}},[e._v("\n                  备注："+e._s(e.salerecord.sTag)+"\n                ")]),e._v(" "),n("column-item",{attrs:{num:"100"}},[e.salerecord.sImage?n("img",{attrs:{src:e.salerecord.sImage}}):e._e()])],1)],1)]),e._v(" "),e._e()],1)],1),e._v(" "),n("posts",{ref:"posts",on:{mounted:e.mountPost}})],1)},staticRenderFns:[]}},753:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(180),s=n(177),a=n(179),o=n(178),l=n(190),i=n(186),c=n(192),u=n(187);t.default={components:{"page-header":r.Header,"header-link":r.HeaderLink,"header-title":r.HeaderTitle,"page-content":a.Content,"m-button":o.Button,"page-footer":l.Footer,Icon:s.Icon,Posts:i.Posts,List:u.List,ListItem:u.ListItem,ListInput:u.ListInput,Column:c.Column,ColumnItem:c.ColumnItem},data:function(){return{salerecord:0,searchshow:!1,ranklist:[],member:{},saleuser:{}}},methods:{mountPost:function(){this.updateRoute()},updateRoute:function(){this.syncRankList(this.$route.query.id)},getProduct:function(e,t){for(var n in e)if(e[n].id==t)return e[n]},getBoptype:function(e,t){for(var n in e)if(e[n].id==t)return e[n]},syncRankList:function(e){var t=this;t.$refs.posts&&t.$refs.posts.post(t.$Method.nSaleRecordSingle,{oSaleRecordID:e}).then(function(e){try{t.salerecord=e.arrData.tables.salerecord.db[0],t.$refs.posts.post(t.$Method.nUserSingle,{oUserID:t.salerecord.oAddUID}).then(function(e){t.saleuser=e.arrData.tables.user.db[0]}),t.salerecord.oMemberID&&"0"!=t.salerecord.oMemberID?t.$refs.posts.post(t.$Method.nMemberSingle,{oMemberID:t.salerecord.oMemberID}).then(function(e){t.member=e.arrData.tables.member.db[0]}):t.member={};var n=e.arrData.tables.salelist.db;t.searchshow=!1,t.$WebStorage.then(function(e){e.select("product").then(function(e){for(var r=e.rows,s=0;s<n.length;s++){var a=n[s];if(3==a.nType||7==a.nType)return void t.$refs.posts.post(t.$Method.nBoptypeList).then(function(e){try{var r=t.getBoptype(e.arrData.tables.boptype.db,a.oCategoryID);n[s].sName=r.sName,n[s].sUnit="",t.ranklist=n}catch(e){console.error(e)}});try{var o=t.getProduct(r,a.oProductID);n[s].sName=o.sName,n[s].sUnit=o.sUnit}catch(e){}}t.ranklist=n})})}catch(e){}})}},activated:function(){document.title=this.$t("admin.salelistsingle.title"),this.updateRoute()}}}});