webpackJsonp([31],{176:function(t,e){t.exports=function(t,e,n,i,s){var r,o=t=t||{},u=typeof t.default;"object"!==u&&"function"!==u||(r=t,o=t.default);var l="function"==typeof o?o.options:o;e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns),i&&(l._scopeId=i);var a;if(s?(a=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=a):n&&(a=n),a){var c=l.functional,d=c?l.render:l.beforeCreate;c?l.render=function(t,e){return a.call(e),d(t,e)}:l.beforeCreate=d?[].concat(d,a):[a]}return{esModule:r,exports:o,options:l}}},177:function(t,e,n){var i=n(176)(n(184),null,null,null,null);t.exports=i.exports},178:function(t,e,n){var i=n(176)(n(185),null,null,null,null);t.exports=i.exports},179:function(t,e,n){var i=n(176)(n(182),null,null,null,null);t.exports=i.exports},180:function(t,e,n){var i=n(176)(n(183),null,null,null,null);t.exports=i.exports},182:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return n.e(93).then(function(){var e=[n(200)];t.apply(null,e)}.bind(this)).catch(n.oe)};e.default={Content:i}},183:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return n.e(10).then(function(){var e=[n(197)];t.apply(null,e)}.bind(this)).catch(n.oe)},s=function(t){return n.e(78).then(function(){var e=[n(201)];t.apply(null,e)}.bind(this)).catch(n.oe)},r=function(t){return n.e(6).then(function(){var e=[n(198)];t.apply(null,e)}.bind(this)).catch(n.oe)},o=function(t){return n.e(8).then(function(){var e=[n(199)];t.apply(null,e)}.bind(this)).catch(n.oe)},u=function(t){return n.e(84).then(function(){var e=[n(202)];t.apply(null,e)}.bind(this)).catch(n.oe)};e.default={Header:i,SecondHeader:s,HeaderLink:r,HeaderTitle:o,SimpleHeader:u,Title:o}},184:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return n.e(91).then(function(){var e=[n(203)];t.apply(null,e)}.bind(this)).catch(n.oe)};e.default={Icon:i}},185:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return n.e(77).then(function(){var e=[n(205)];t.apply(null,e)}.bind(this)).catch(n.oe)},s=function(t){return n.e(95).then(function(){var e=[n(206)];t.apply(null,e)}.bind(this)).catch(n.oe)},r=function(t){return n.e(70).then(function(){var e=[n(204)];t.apply(null,e)}.bind(this)).catch(n.oe)};e.default={Button:i,CDButton:s,ButtonGroup:r}},186:function(t,e,n){var i=n(176)(n(188),null,null,null,null);t.exports=i.exports},187:function(t,e,n){var i=n(176)(n(189),null,null,null,null);t.exports=i.exports},188:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return n.e(79).then(function(){var e=[n(207)];t.apply(null,e)}.bind(this)).catch(n.oe)};e.default={Posts:i}},189:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return n.e(76).then(function(){var e=[n(210)];t.apply(null,e)}.bind(this)).catch(n.oe)},s=function(t){return n.e(89).then(function(){var e=[n(209)];t.apply(null,e)}.bind(this)).catch(n.oe)},r=function(t){return n.e(90).then(function(){var e=[n(208)];t.apply(null,e)}.bind(this)).catch(n.oe)};e.default={List:i,ListItem:s,ListInput:r}},190:function(t,e,n){var i=n(176)(n(191),null,null,null,null);t.exports=i.exports},191:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return n.e(80).then(function(){var e=[n(213)];t.apply(null,e)}.bind(this)).catch(n.oe)},s=function(t){return n.e(81).then(function(){var e=[n(215)];t.apply(null,e)}.bind(this)).catch(n.oe)},r=function(t){return n.e(96).then(function(){var e=[n(214)];t.apply(null,e)}.bind(this)).catch(n.oe)};e.default={Footer:i,SecondFooter:s,FooterItem:r,Item:r}},192:function(t,e,n){var i=n(176)(n(193),null,null,null,null);t.exports=i.exports},193:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return n.e(7).then(function(){var e=[n(211)];t.apply(null,e)}.bind(this)).catch(n.oe)},s=function(t){return n.e(9).then(function(){var e=[n(212)];t.apply(null,e)}.bind(this)).catch(n.oe)},r=function(t){return n.e(94).then(function(){var e=[n(216)];t.apply(null,e)}.bind(this)).catch(n.oe)};e.default={Column:i,ColumnItem:s,ColumnSort:r}},229:function(t,e,n){var i=n(176)(n(234),null,null,null,null);t.exports=i.exports},234:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return n.e(67).then(function(){var e=[n(245)];t.apply(null,e)}.bind(this)).catch(n.oe)},s=function(t){return n.e(59).then(function(){var e=[n(254)];t.apply(null,e)}.bind(this)).catch(n.oe)};e.default={Modal:i,Confirm:s}},236:function(t,e,n){var i=n(176)(n(239),null,null,null,null);t.exports=i.exports},239:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return n.e(69).then(function(){var e=[n(263)];t.apply(null,e)}.bind(this)).catch(n.oe)};e.default={AddressPicker:i}},431:function(t,e,n){var i=n(176)(n(764),n(523),null,null,null);t.exports=i.exports},523:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("page-header",{slot:"header"},[n("header-title",[t._v(t._s(t.$t("admin.useradd.title")))]),t._v(" "),n("header-link",{attrs:{isback:!0,left:!0}},[n("icon",{staticClass:"font08",attrs:{icon:"arrowleft"}}),t._v(t._s(t.$t("default.back")))],1)],1),t._v(" "),n("page-content",{attrs:{ispadding:!0}},[n("vue-form",{attrs:{state:t.vstate},on:{submit:function(e){e.preventDefault(),t.onSubmit()}}},[n("column",{staticClass:"deuce"},[n("column-item",{attrs:{num:"50"}},[n("list",[n("list-item",[n("list-input",{attrs:{title:"门店",isdanger:!t.user.oShopID,tip:"门店不得为空"}},[t.user.oShopID?n("select",{directives:[{name:"model",rawName:"v-model",value:t.user.oShopID,expression:"user.oShopID"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.user.oShopID=e.target.multiple?n:n[0]}}},t._l(t.shopList,function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.sName))])})):t._e()])],1)],1)],1),t._v(" "),n("column-item",{attrs:{num:"50"}},[n("list",[n("list-item",[n("list-input",{attrs:{title:"等级",tip:"等级不得为空"}},[n("select",{directives:[{name:"model",rawName:"v-model.number",value:t.user.nLevel,expression:"user.nLevel",modifiers:{number:!0}}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(e){var n="_value"in e?e._value:e.value;return t._n(n)});t.user.nLevel=e.target.multiple?n:n[0]}}},t._l(t.$t("default.userLevel"),function(e,i){return n("option",{key:e.id,domProps:{value:i}},[t._v(t._s(t.$t("default.userLevel["+i+"]")))])}))])],1)],1)],1),t._v(" "),n("column-item",{attrs:{num:"50"}},[n("list",[n("list-item",[n("list-input",{attrs:{title:"登录邮箱",isdanger:t.vstate.ppemail&&t.vstate.ppemail.$invalid,tip:"邮箱格式错误"}},[n("validate",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.sEmail,expression:"user.sEmail"}],attrs:{name:"ppemail",type:"text",placeholder:t.$t("admin.usersingle.plemail"),required:"",pattern:"^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$"},domProps:{value:t.user.sEmail},on:{input:function(e){e.target.composing||(t.user.sEmail=e.target.value)}}})])],1)],1)],1)],1),t._v(" "),n("column-item",{attrs:{num:"50"}},[n("list",[n("list-item",[n("list-input",{attrs:{title:"验证码",isdanger:t.vstate.code&&t.vstate.code.$invalid,tip:"验证码不得少于4位"}},[n("validate",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.sCodeMail,expression:"user.sCodeMail"}],attrs:{name:"code",maxlength:"10",type:"password",placeholder:"请输入验证码",required:"",minlength:"4"},domProps:{value:t.user.sCodeMail},on:{input:function(e){e.target.composing||(t.user.sCodeMail=e.target.value)}}})]),t._v(" "),n("cd-button",{staticStyle:{"margin-left":"0.5rem"},attrs:{disabled:t.vstate.ppemail&&t.vstate.ppemail.$invalid,cdnumber:t.cdnumber},on:{start:t.startSend,stop:function(e){t.cdnumber=-1}},slot:"button"})],1)],1)],1)],1),t._v(" "),n("column-item",{attrs:{num:"50"}},[n("list",[n("list-item",[n("list-input",{attrs:{title:"登录密码",isdanger:t.vstate.pwd&&t.vstate.pwd.$invalid,tip:t.$t("default.pwderror")}},[n("validate",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.sPwd,expression:"user.sPwd"}],attrs:{name:"pwd",type:"password",placeholder:t.$t("admin.usersingle.plpwd"),required:"",pattern:"^[a-zA-Z]\\w{5,17}$"},domProps:{value:t.user.sPwd},on:{input:function(e){e.target.composing||(t.user.sPwd=e.target.value)}}})])],1)],1)],1)],1),t._v(" "),n("column",[n("list",[n("column",{slot:"title"},[n("span",{staticClass:"pull-left"},[t._v("其它信息")]),t._v(" "),n("span",{staticClass:"color-warning tip pull-right"},[t._v("选填项目 "),n("icon",{attrs:{icon:"notice-fill"}})],1)])],1)],1),t._v(" "),n("column",{staticClass:"deuce"},[n("column-item",{attrs:{num:"50"}},[n("list",[n("list-item",[n("list-input",{attrs:{title:"姓名",tip:"姓名不得为空"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.sName,expression:"user.sName"}],attrs:{name:"ppname",type:"text",placeholder:t.$t("admin.usersingle.plname")},domProps:{value:t.user.sName},on:{input:function(e){e.target.composing||(t.user.sName=e.target.value)}}})])],1)],1)],1),t._v(" "),n("column-item",{attrs:{num:"100"}},[n("list",[n("list-item",[n("list-input",{attrs:{title:"省市区",tip:"省市区不得为空"}},[n("address-picker",{attrs:{opts:t.opts},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1)],1)],1)],1),t._v(" "),n("column-item",{attrs:{num:"100"}},[n("list",[n("list-item",[n("list-input",{attrs:{title:"详细地址",tip:"详细地址不得为空"}},[n("validate",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.sAddress,expression:"user.sAddress"}],attrs:{name:"ppaddress",type:"text",placeholder:t.$t("admin.usersingle.pladdress"),required:""},domProps:{value:t.user.sAddress},on:{input:function(e){e.target.composing||(t.user.sAddress=e.target.value)}}})])],1)],1)],1)],1)],1)],1),t._v(" "),n("br"),t._v(" "),n("column",{staticClass:"deuce"},[n("column-item",{attrs:{num:"50"}},[n("m-button",{attrs:{type:"danger"},nativeOn:{click:function(e){t.goback()}}},[t._v("关闭")])],1),t._v(" "),n("column-item",{attrs:{num:"50"}},[n("m-button",{attrs:{disabled:t.vstate.$invalid},nativeOn:{click:function(e){t.onSubmit()}}},[t._v("保存")])],1)],1)],1)],1),t._v(" "),n("confirm",{attrs:{show:t.showConfirm,title:t.$t("default.tiptitle"),content:t.ConfirmContent,okText:t.$t("default.confirm")},on:{onOk:t.confirmOk}}),t._v(" "),n("posts",{ref:"posts",on:{mounted:t.mountPost}})],1)},staticRenderFns:[]}},764:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(180),s=n(177),r=n(179),o=n(178),u=n(190),l=n(186),a=n(192),c=n(187),d=n(236),p=n(229);e.default={components:{"page-header":i.Header,"header-link":i.HeaderLink,"header-title":i.HeaderTitle,"page-content":r.Content,"m-button":o.Button,"cd-button":o.CDButton,"page-footer":u.Footer,AddressPicker:d.AddressPicker,Icon:s.Icon,Posts:l.Posts,List:c.List,ListItem:c.ListItem,ListInput:c.ListInput,Column:a.Column,ColumnItem:a.ColumnItem,Confirm:p.Confirm},watch:{address:function(t,e){this.user.sProvince=t.province,this.user.sCity=t.city,this.user.sTown=t.district}},data:function(){return{showConfirm:!1,ConfirmContent:"",vstate:{},cdnumber:-1,shopList:[],user:{},opts:{label:{province:"所在省",city:"所在市",district:""},noLabel:!0},address:{}}},methods:{mountPost:function(){this.updateRoute()},confirmOk:function(){this.showConfirm=!1},startSend:function(){if(!this.vstate.ppemail||!this.vstate.ppemail.$invalid){var t=this;t.$refs.posts&&t.$refs.posts.post(t.$Method.nUserAddCode,t.user).then(function(e){t.cdnumber=60,t.ConfirmContent=e.sResultMsg,t.showConfirm=!0},function(e){t.cdnumber=10})}},goback:function(t){var e=this;t?setTimeout(function(){e.$router.back()},1e3):e.$router.back()},onSubmit:function(){var t=this;this.vstate.$valid&&t.$refs.posts.post(t.$Method.nUserAdd,t.user,!0).then(function(e){t.goback(!0)})},updateRoute:function(){this.user={sName:"",sCodeMail:"",nLevel:3,sEmail:"",nPhone:"",sAddress:"",sProvince:null,sCity:null,sTown:null,oShopID:this.$Cookie.get("cShopID",null),nType:2},this.syncData()},syncData:function(){var t=this;t.$refs.posts&&t.$refs.posts.post(t.$Method.nShopList).then(function(e){try{t.shopList=e.arrData.tables.shop.db}catch(t){}})}},activated:function(){document.title=this.$t("admin.useradd.title"),this.updateRoute()}}}});