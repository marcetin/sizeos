webpackJsonp([34],{176:function(t,e){t.exports=function(t,e,n,s,o){var i,r=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(i=t,r=t.default);var a="function"==typeof r?r.options:r;e&&(a.render=e.render,a.staticRenderFns=e.staticRenderFns),s&&(a._scopeId=s);var u;if(o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},a._ssrRegister=u):n&&(u=n),u){var p=a.functional,c=p?a.render:a.beforeCreate;p?a.render=function(t,e){return u.call(e),c(t,e)}:a.beforeCreate=c?[].concat(c,u):[u]}return{esModule:i,exports:r,options:a}}},177:function(t,e,n){var s=n(176)(n(184),null,null,null,null);t.exports=s.exports},178:function(t,e,n){var s=n(176)(n(185),null,null,null,null);t.exports=s.exports},179:function(t,e,n){var s=n(176)(n(182),null,null,null,null);t.exports=s.exports},180:function(t,e,n){var s=n(176)(n(183),null,null,null,null);t.exports=s.exports},182:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){return n.e(93).then(function(){var e=[n(200)];t.apply(null,e)}.bind(this)).catch(n.oe)};e.default={Content:s}},183:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){return n.e(10).then(function(){var e=[n(197)];t.apply(null,e)}.bind(this)).catch(n.oe)},o=function(t){return n.e(78).then(function(){var e=[n(201)];t.apply(null,e)}.bind(this)).catch(n.oe)},i=function(t){return n.e(6).then(function(){var e=[n(198)];t.apply(null,e)}.bind(this)).catch(n.oe)},r=function(t){return n.e(8).then(function(){var e=[n(199)];t.apply(null,e)}.bind(this)).catch(n.oe)},l=function(t){return n.e(84).then(function(){var e=[n(202)];t.apply(null,e)}.bind(this)).catch(n.oe)};e.default={Header:s,SecondHeader:o,HeaderLink:i,HeaderTitle:r,SimpleHeader:l,Title:r}},184:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){return n.e(91).then(function(){var e=[n(203)];t.apply(null,e)}.bind(this)).catch(n.oe)};e.default={Icon:s}},185:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){return n.e(77).then(function(){var e=[n(205)];t.apply(null,e)}.bind(this)).catch(n.oe)},o=function(t){return n.e(95).then(function(){var e=[n(206)];t.apply(null,e)}.bind(this)).catch(n.oe)},i=function(t){return n.e(70).then(function(){var e=[n(204)];t.apply(null,e)}.bind(this)).catch(n.oe)};e.default={Button:s,CDButton:o,ButtonGroup:i}},186:function(t,e,n){var s=n(176)(n(188),null,null,null,null);t.exports=s.exports},187:function(t,e,n){var s=n(176)(n(189),null,null,null,null);t.exports=s.exports},188:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){return n.e(79).then(function(){var e=[n(207)];t.apply(null,e)}.bind(this)).catch(n.oe)};e.default={Posts:s}},189:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){return n.e(76).then(function(){var e=[n(210)];t.apply(null,e)}.bind(this)).catch(n.oe)},o=function(t){return n.e(89).then(function(){var e=[n(209)];t.apply(null,e)}.bind(this)).catch(n.oe)},i=function(t){return n.e(90).then(function(){var e=[n(208)];t.apply(null,e)}.bind(this)).catch(n.oe)};e.default={List:s,ListItem:o,ListInput:i}},190:function(t,e,n){var s=n(176)(n(191),null,null,null,null);t.exports=s.exports},191:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){return n.e(80).then(function(){var e=[n(213)];t.apply(null,e)}.bind(this)).catch(n.oe)},o=function(t){return n.e(81).then(function(){var e=[n(215)];t.apply(null,e)}.bind(this)).catch(n.oe)},i=function(t){return n.e(96).then(function(){var e=[n(214)];t.apply(null,e)}.bind(this)).catch(n.oe)};e.default={Footer:s,SecondFooter:o,FooterItem:i,Item:i}},192:function(t,e,n){var s=n(176)(n(193),null,null,null,null);t.exports=s.exports},193:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){return n.e(7).then(function(){var e=[n(211)];t.apply(null,e)}.bind(this)).catch(n.oe)},o=function(t){return n.e(9).then(function(){var e=[n(212)];t.apply(null,e)}.bind(this)).catch(n.oe)},i=function(t){return n.e(94).then(function(){var e=[n(216)];t.apply(null,e)}.bind(this)).catch(n.oe)};e.default={Column:s,ColumnItem:o,ColumnSort:i}},223:function(t,e,n){var s=n(176)(n(225),null,null,null,null);t.exports=s.exports},225:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){return n.e(62).then(function(){var e=[n(240)];t.apply(null,e)}.bind(this)).catch(n.oe)};e.default={Datetimer:s}},236:function(t,e,n){var s=n(176)(n(239),null,null,null,null);t.exports=s.exports},239:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){return n.e(69).then(function(){var e=[n(263)];t.apply(null,e)}.bind(this)).catch(n.oe)};e.default={AddressPicker:s}},424:function(t,e,n){var s=n(176)(n(757),n(465),null,null,null);t.exports=s.exports},465:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("page-header",{slot:"header"},[n("header-title",[t._v(t._s(t.$t("admin.shopsingle.title"))),n("font",{staticClass:"font07"},[t._v("（编号："+t._s(t.shop.id)+"）")])],1),t._v(" "),n("header-link",{attrs:{isback:!0,left:!0}},[n("icon",{staticClass:"font08",attrs:{icon:"arrowleft"}}),t._v(t._s(t.$t("default.back")))],1)],1),t._v(" "),n("page-content",{attrs:{ispadding:!0}},[n("vue-form",{attrs:{state:t.vstate},on:{submit:function(e){e.preventDefault(),t.onSubmit()}}},[n("column",{staticClass:"deuce"},[n("column-item",{attrs:{num:"50"}},[n("list",[n("list-item",[n("list-input",{attrs:{title:"店名",isdanger:t.vstate.ppname&&t.vstate.ppname.$invalid,tip:"名称不得为空"}},[n("validate",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.shop.sName,expression:"shop.sName"}],attrs:{name:"ppname",type:"text",placeholder:t.$t("admin.shopsingle.plname"),required:""},domProps:{value:t.shop.sName},on:{input:function(e){e.target.composing||(t.shop.sName=e.target.value)}}})])],1)],1)],1)],1),t._v(" "),n("column-item",{attrs:{num:"50"}},[n("list",[n("list-item",[n("list-input",{attrs:{title:"店长",isdanger:null==t.shop.oBossID||t.shop.oBossID<=0,tip:"店长不得为空"}},[t.shop.oBossID?n("select",{directives:[{name:"model",rawName:"v-model",value:t.shop.oBossID,expression:"shop.oBossID"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.shop.oBossID=e.target.multiple?n:n[0]}}},t._l(t.userList,function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(null!=e.sName?e.sName:e.sEmail))])})):t._e()])],1)],1)],1),t._v(" "),n("column-item",{attrs:{num:"50"}},[n("list",[n("list-item",[n("list-input",{attrs:{title:"联系邮箱",isdanger:t.vstate.ppemail&&t.vstate.ppemail.$invalid,tip:"邮箱格式错误"}},[n("validate",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.shop.sEmail,expression:"shop.sEmail"}],attrs:{name:"ppemail",type:"text",placeholder:t.$t("admin.shopsingle.plemail"),pattern:"^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$|^\\s*$"},domProps:{value:t.shop.sEmail},on:{input:function(e){e.target.composing||(t.shop.sEmail=e.target.value)}}})])],1)],1)],1)],1),t._v(" "),n("column-item",{attrs:{num:"50"}},[n("list",[n("list-item",[n("list-input",{attrs:{title:"联系手机",isdanger:t.vstate.ppphone&&t.vstate.ppphone.$invalid,tip:"手机号码为11位的数字"}},[n("validate",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.shop.nPhone,expression:"shop.nPhone",modifiers:{number:!0}}],attrs:{name:"ppphone",type:"text",placeholder:t.$t("admin.shopsingle.plphone"),pattern:"^1[0-9]{10}$|^\\s*$"},domProps:{value:t.shop.nPhone},on:{input:function(e){e.target.composing||(t.shop.nPhone=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])],1)],1)],1)],1),t._v(" "),n("column-item",{attrs:{num:"100"}},[n("list",[n("list-item",[n("list-input",{attrs:{title:"省市区",tip:"省市区不得为空"}},[n("address-picker",{attrs:{opts:t.opts},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1)],1)],1)],1),t._v(" "),n("column-item",{attrs:{num:"100"}},[n("list",[n("list-item",[n("list-input",{attrs:{title:"详细地址",tip:"详细地址不得为空"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.shop.sAddress,expression:"shop.sAddress"}],attrs:{name:"ppaddress",type:"text",placeholder:t.$t("admin.shopsingle.pladdress")},domProps:{value:t.shop.sAddress},on:{input:function(e){e.target.composing||(t.shop.sAddress=e.target.value)}}})])],1)],1)],1),t._v(" "),n("column-item",{attrs:{num:"50"}},[n("list",[n("list-item",[n("list-input",{attrs:{title:"状态"}},[n("select",{directives:[{name:"model",rawName:"v-model.number",value:t.shop.nStatus,expression:"shop.nStatus",modifiers:{number:!0}}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(e){var n="_value"in e?e._value:e.value;return t._n(n)});t.shop.nStatus=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"1"}},[t._v("正常")]),t._v(" "),n("option",{attrs:{value:"3"}},[t._v("删除")])])])],1)],1)],1)],1),t._v(" "),n("br"),t._v(" "),n("column",{staticClass:"deuce"},[n("column-item",{attrs:{num:"50"}},[n("m-button",{attrs:{type:"danger"},nativeOn:{click:function(e){t.goback()}}},[t._v("关闭")])],1),t._v(" "),n("column-item",{attrs:{num:"50"}},[n("m-button",{attrs:{disabled:null==t.shop.oBossID||t.shop.oBossID<=0||t.vstate.$invalid},nativeOn:{click:function(e){t.onSubmit()}}},[t._v("保存")])],1)],1)],1)],1),t._v(" "),n("posts",{ref:"posts",on:{mounted:t.mountPost}})],1)},staticRenderFns:[]}},757:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(180),o=n(177),i=n(179),r=n(178),l=n(190),a=n(236),u=n(192),p=n(187),c=n(186),d=n(223);e.default={components:{"page-header":s.Header,"header-link":s.HeaderLink,"header-title":s.HeaderTitle,"page-content":i.Content,"m-button":r.Button,"page-footer":l.Footer,AddressPicker:a.AddressPicker,Icon:o.Icon,Posts:c.Posts,List:p.List,ListItem:p.ListItem,ListInput:p.ListInput,Column:u.Column,ColumnItem:u.ColumnItem,Datetimer:d.Datetimer},data:function(){return{opts:{label:{province:"所在省",city:"所在市",district:""},noLabel:!0},address:{},shop:{},vstate:{},searchshow:!1,userList:[]}},methods:{updateRoute:function(){this.$route.query.id&&this.syncShop(this.$route.query.id)},isADD:function(){try{return this.shop.sProvince&&null!=this.shop.sProvince&&this.shop.sProvince.length>0&&this.shop.sProvince.indexOf("请选择")<0&&this.shop.sProvince&&null!=this.shop.sCity&&this.shop.sCity.length>0&&this.shop.sCity.indexOf("请选择")<0&&this.shop.sTown&&null!=this.shop.sTown&&this.shop.sTown.length>0&&this.shop.sTown.indexOf("请选择")<0}catch(t){}return!1},mountPost:function(){this.updateRoute()},goback:function(t){var e=this;t?setTimeout(function(){e.$router.back()},1e3):e.$router.back()},onSubmit:function(){var t=this;if(this.shop.oBossID&&this.vstate.$valid){var e=t.$refs.posts;if(!t.$refs.posts)return;e.post(t.$Method.nShopEdit,t.shop,!0).then(function(e){setTimeout(function(){t.$router.back()},1e3)})}},syncShop:function(t){var e=this;if(e.$refs.posts){var n=e.$refs.posts;n.post(e.$Method.nShopSingle,{oShopID:t}).then(function(t){e.shop=t.arrData.tables.shop.db[0],e.opts={label:{province:"所在省",city:"所在市",district:""},default:{province:e.shop.sProvince,city:e.shop.sCity,district:e.shop.sTown},noLabel:!0},e.searchshow=!1}),n.post(e.$Method.nUserList).then(function(t){e.userList=t.arrData.tables.user.db})}}},watch:{address:function(t,e){this.shop.sProvince=t.province,this.shop.sCity=t.city,this.shop.sTown=t.district}},activated:function(){document.title=this.$t("admin.shopsingle.title"),this.updateRoute()}}}});